webpackJsonp([1],{100:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var n=a(63),r=s(n),u=a(103),i=s(u),o=a(105),c=s(o),l=a(106),d=s(l),f=a(112),p=s(f),v=a(121),h=s(v),m=a(127),_=s(m),b=a(132),g=s(b),x=a(139),q=s(x),R=a(142),y=s(R),w=a(70),k=s(w),A=a(18),S=s(A),$=a(159),P=s($),D=a(172),I=s(D),M=a(178),F=s(M),j=a(37),C=s(j),L=a(183),U=s(L),T=a(185),O=s(T);a(291),a(292),r.default.use(i.default),r.default.use(c.default),r.default.use(d.default,{components:{VApp:p.default,VAlert:h.default,VCard:_.default,VNavigationDrawer:g.default,VFooter:q.default,VList:y.default,VBtn:k.default,VIcon:S.default,VGrid:I.default,VTextField:P.default,VToolbar:F.default,transitions:C.default},theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),r.default.config.productionTip=!1,new r.default({el:"#app",router:O.default,components:{App:U.default},template:"<App/>"})},114:function(e,t){},123:function(e,t){},125:function(e,t){},129:function(e,t){},134:function(e,t){},136:function(e,t){},141:function(e,t){},144:function(e,t){},153:function(e,t){},155:function(e,t){},158:function(e,t){},161:function(e,t){},162:function(e,t){},167:function(e,t){},174:function(e,t){},180:function(e,t){},183:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(71),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var u=a(184),i=a(24),o=i(n.a,u.a,!1,null,null,null);t.default=o.exports},184:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-content",[a("router-view")],1)],1)},n=[],r={render:s,staticRenderFns:n};t.a=r},185:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(63),r=s(n),u=a(186),i=s(u),o=a(187),c=s(o),l=a(281),d=s(l),f=a(284),p=s(f);r.default.use(i.default),t.default=new i.default({routes:[{path:"/",name:"snapshots/upload",component:c.default},{path:"/snapshots/view",name:"snapshots/view",component:d.default},{path:"/snapshotRequests",name:"snapshotRequests",component:p.default}]})},187:function(e,t,a){"use strict";function s(e){a(188)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(72),r=a.n(n);for(var u in n)"default"!==u&&function(e){a.d(t,e,function(){return n[e]})}(u);var i=a(280),o=a(24),c=s,l=o(r.a,i.a,!1,c,"data-v-41f1708d",null);t.default=l.exports},188:function(e,t){},279:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(55),r=s(n),u=a(32),i=s(u),o=a(56),c=s(o),l=a(57),d=s(l),f=a(60),p=s(f),v=a(61),h=s(v),m=function(e){function t(){return(0,i.default)(this,t),(0,d.default)(this,(t.__proto__||(0,r.default)(t)).call(this,{baseURL:""}))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"putImage",value:function(e,t,a){return this.axios.put(e,t,a)}}]),t}(h.default);t.default=m},280:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{id:"uploadContainer",fluid:"","grid-list-xl":""}},[a("div",[a("v-alert",{attrs:{transition:"scale-transition",type:"success",dismissible:""},model:{value:e.submitSuccessAlert,callback:function(t){e.submitSuccessAlert=t},expression:"submitSuccessAlert"}},[e._v("\n      Thank you! Keep 'em coming!\n    ")])],1),e._v(" "),a("div",[a("v-alert",{attrs:{transition:"scale-transition",type:"error",dismissible:""},model:{value:e.errorAlert.active,callback:function(t){e.$set(e.errorAlert,"active",t)},expression:"errorAlert.active"}},[e._v("\n      "+e._s(e.errorAlert.message)+"\n    ")])],1),e._v(" "),a("v-layout",{attrs:{row:"","justify-center":"","align-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:"",s4:"",md3:""}},[a("v-card",{attrs:{flat:"",color:"transparent"}},[e.snapshotData.localImageDisplay?a("v-card-media",{attrs:{id:"snapshotImage",src:e.snapshotData.localImageDisplay,contain:"",height:"200px"}}):e._e()],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:"","justify-center":"","align-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:"",s4:"",md3:""}},[a("label",{staticClass:"btn btn-file btn--block info"},[e._v("\n        Take a photo of a problem in your workspace\n        "),a("input",{staticStyle:{display:"none"},attrs:{id:"addImage",type:"file",accept:"image/*",capture:"camera"},on:{change:function(t){e.addImage(t.target.files[0])}}})]),e._v(" "),e.$v.snapshotData.imageFile.$error?a("div",{staticClass:"input-group__messages \n    input-group__error input-group__details input-group--error \n    input-group--required error--text",attrs:{id:"imageError"}},[e._v("\n        Please add a photo")]):e._e()])],1),e._v(" "),a("v-layout",{attrs:{row:"","justify-center":"","align-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:"",s4:"",md3:""}},[a("v-text-field",{staticClass:"spacelabThin",attrs:{id:"snapshotComment","error-messages":e.commentErrors,name:"input-7-1",label:"Tell us more about the problem","multi-line":"",required:"",rows:"3"},model:{value:e.snapshotData.snapshot.comment,callback:function(t){e.$set(e.snapshotData.snapshot,"comment",t)},expression:"snapshotData.snapshot.comment"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:"","justify-center":"","align-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:"",s4:"",md3:""}},[a("v-btn",{staticClass:"info",attrs:{id:"submitSnapshot",block:""},on:{click:function(t){e.saveSnapshot()}}},[e._v("Submit")])],1)],1)],1)},n=[],r={render:s,staticRenderFns:n};t.a=r},281:function(e,t,a){"use strict";function s(e){a(282)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(98),r=a.n(n);for(var u in n)"default"!==u&&function(e){a.d(t,e,function(){return n[e]})}(u);var i=a(283),o=a(24),c=s,l=o(r.a,i.a,!1,c,"data-v-85e1ca78",null);t.default=l.exports},282:function(e,t){},283:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.snapshots,function(t){return a("v-flex",{key:t._id,attrs:{id:"snapshotflex",xs4:""}},[a("lazy-component",[a("v-card",{attrs:{flat:"",color:"transparent"}},[a("v-card-media",{attrs:{src:t.imageURL,contain:"",height:"200px"}}),e._v(" "),a("v-card-text",{staticClass:"title",attrs:{"primary-title":""}},[a("div",[a("div",[e._v(e._s(t.comment))])])])],1)],1)],1)}))],1)},n=[],r={render:s,staticRenderFns:n};t.a=r},284:function(e,t,a){"use strict";function s(e){a(285)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(99),r=a.n(n);for(var u in n)"default"!==u&&function(e){a.d(t,e,function(){return n[e]})}(u);var i=a(290),o=a(24),c=s,l=o(r.a,i.a,!1,c,"data-v-ec085814",null);t.default=l.exports},285:function(e,t){},289:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(55),r=s(n),u=a(32),i=s(u),o=a(56),c=s(o),l=a(57),d=s(l),f=a(60),p=s(f),v=a(61),h=s(v),m=function(e){function t(){(0,i.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,r.default)(t)).call(this,{baseURL:void 0}));return e.requestsPath="/snapshotRequests",e}return(0,p.default)(t,e),(0,c.default)(t,[{key:"getSnapshotRequests",value:function(){return this.axios.get(this.requestsPath)}},{key:"saveRequests",value:function(){return this.axios.post(this.requestsPath)}}]),t}(h.default);t.default=m},290:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("div",[a("v-alert",{attrs:{id:"successMessage",transition:"scale-transition",type:"success",dismissible:""},model:{value:e.submitSuccessAlert,callback:function(t){e.submitSuccessAlert=t},expression:"submitSuccessAlert"}},[e._v("\n      Success! WELL DONE YOU!!!!!!\n    ")])],1),e._v(" "),a("div",[a("v-alert",{attrs:{id:"errorMessage",transition:"scale-transition",type:"error",dismissible:""},model:{value:e.errorAlert.active,callback:function(t){e.$set(e.errorAlert,"active",t)},expression:"errorAlert.active"}},[e._v("\n      "+e._s(e.errorAlert.message)+"\n    ")])],1),e._v(" "),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{id:"snapshotflex",xs12:"",sm8:"",md4:""}},[a("v-list",e._l(e.uiRequests,function(t,s){return t.isActive?a("v-list-tile",{key:t.uiRequestId},[a("v-text-field",{staticClass:"requestTitle",attrs:{label:"Request "+(s+1),id:"request"+t.uiRequestId,value:t.snapshotRequest.name,"error-messages":e.nameErrors(s),required:"",type:"text"}}),e._v(" "),a("v-icon",{attrs:{id:"deleteRequest"+t.uiRequestId,medium:""},on:{click:function(t){e.deleteRequest(s)}}},[e._v("delete")])],1):e._e()})),e._v(" "),a("v-btn",{staticClass:"info",attrs:{id:"addRequest"},on:{click:function(t){e.addRequest()}}},[e._v("Add request")]),e._v(" "),a("v-btn",{staticClass:"info",attrs:{id:"saveRequests"},on:{click:function(t){e.saveRequests()}}},[e._v("Save requests")])],1)],1)],1)},n=[],r={render:s,staticRenderFns:n};t.a=r},291:function(e,t){},292:function(e,t){},38:function(e,t){},61:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(32),r=s(n),u=a(260),i=s(u),o=function e(t){var a=t.baseURL,s=void 0===a?"":a;(0,r.default)(this,e),this.axios=i.default.create({baseURL:s,responseType:"json"})};t.default=o},71:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"App",data:function(){return{clipped:!1,drawer:!0,fixed:!1,items:[{icon:"bubble_chart",title:"Inspire"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Vuetify.js"}}}},72:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function n(){return{imageFile:"",localImageDisplay:"",snapshot:{imageURL:"",comment:""}}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(189),u=s(r),i=a(49),o=s(i),c=a(50),l=s(c),d=a(88),f=a(89),p=s(f),v=a(279),h=s(v),m=new p.default,_=new h.default;t.default={name:"SnapshotsUpload",data:function(){return{submitSuccessAlert:!1,errorAlert:{active:!1,message:""},snapshotData:n()}},validations:{snapshotData:{snapshot:{comment:{required:d.required}},imageFile:{required:d.required}}},computed:{commentErrors:function(){var e=[];return this.$v.snapshotData.snapshot.comment.$error&&e.push("Please provide a comment"),e}},methods:{addImage:function(e){var t=this;if(e){this.snapshotData.imageFile=e;var a=new FileReader;a.onload=function(e){t.snapshotData.localImageDisplay=e.target.result},a.readAsDataURL(e)}},saveSnapshot:function(){var e=this;return(0,l.default)(o.default.mark(function t(){var a,s;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$error){t.next=22;break}return e.$v.$reset(),t.prev=3,t.next=6,m.getSignedPostURL({params:{imageFileName:Date.now()}});case 6:return a=t.sent,e.snapshotData.snapshot.imageURL=a.data.imageURL,s={headers:{"Content-Type":e.snapshotData.imageFile.type}},t.next=11,_.putImage(a.data.signedAWSURL,e.snapshotData.imageFile,s);case 11:return t.next=13,m.postSnapshot(e.snapshotData.snapshot);case 13:a=t.sent,200===a.status&&(window.scrollTo(0,0),e.reset(),e.submitSuccessAlert=!0,setTimeout(function(){e.submitSuccessAlert=!1},4e3)),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(3),window.scrollTo(0,0),e.errorAlert.message="So sorry, there's been an error - please contact us or try again later",e.errorAlert.active=!0;case 22:case"end":return t.stop()}},t,e,[[3,17]])}))()},reset:function(){var e=n();(0,u.default)(this.$data.snapshotData,e)}}}},89:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(55),r=s(n),u=a(32),i=s(u),o=a(56),c=s(o),l=a(57),d=s(l),f=a(60),p=s(f),v=a(61),h=s(v),m=function(e){function t(){(0,i.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,r.default)(t)).call(this,{baseURL:void 0}));return e.signedURLPath="/image-aws-config",e.snapshotPath="/snapshot",e.snapshotsPath="/snapshots",e}return(0,p.default)(t,e),(0,c.default)(t,[{key:"getSignedPostURL",value:function(e){return this.axios.get(this.signedURLPath,e)}},{key:"postSnapshot",value:function(e){return this.axios.post(this.snapshotPath,e)}},{key:"getSnapshots",value:function(){return this.axios.get(this.snapshotsPath)}}]),t}(h.default);t.default=m},98:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(49),r=s(n),u=a(50),i=s(u),o=a(89),c=s(o),l=new c.default;t.default={name:"SnapshotsView",data:function(){return{snapshots:[]}},mounted:function(){var e=this;return(0,i.default)(r.default.mark(function t(){var a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.getSnapshots();case 3:a=t.sent,e.snapshots=a.data,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,e,[[0,7]])}))()}}},99:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(49),r=s(n),u=a(286),i=s(u),o=a(50),c=s(o),l=a(88),d=a(289),f=s(d),p=new f.default;t.default={name:"SnapshotRequests",data:function(){return{submitSuccessAlert:!1,errorAlert:{active:!1,message:""},requestIdCounter:1,clientId:"",prId:"",uiRequests:[]}},validations:{uiRequests:{$each:{snapshotRequest:{name:{required:l.required}}}}},mounted:function(){var e=this;return(0,c.default)(r.default.mark(function t(){var a,s,n,u,o,c,l,d;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.getSnapshotRequests();case 3:if(a=t.sent,s=a.data,Array.isArray(s)&&s.length){t.next=9;break}e.addRequest(),t.next=28;break;case 9:for(n=!0,u=!1,o=void 0,t.prev=12,c=(0,i.default)(s);!(n=(l=c.next()).done);n=!0)d=l.value,e.addRequest(d);t.next=20;break;case 16:t.prev=16,t.t0=t.catch(12),u=!0,o=t.t0;case 20:t.prev=20,t.prev=21,!n&&c.return&&c.return();case 23:if(t.prev=23,!u){t.next=26;break}throw o;case 26:return t.finish(23);case 27:return t.finish(20);case 28:t.next=32;break;case 30:t.prev=30,t.t1=t.catch(0);case 32:case"end":return t.stop()}},t,e,[[0,30],[12,16,20,28],[21,,23,27]])}))()},methods:{nameErrors:function(e){var t=[];return this.$v.uiRequests.$each[e].snapshotRequest.name.$error&&t.push("Please provide a name"),t},addRequest:function(e){var t=void 0,a=void 0;e&&(a=e.name,t=e._id),this.uiRequests.push({uiRequestId:this.requestIdCounter,isActive:!0,snapshotRequest:{_id:t,name:a}}),this.incrementRequestId()},incrementRequestId:function(){this.requestIdCounter=this.requestIdCounter+1},deleteRequest:function(e){this.uiRequests[e].snapshotRequest._id?this.uiRequests[e].isActive=!1:this.uiRequests.splice(e,1)},saveRequests:function(){var e=this;return(0,c.default)(r.default.mark(function t(){var a,s,n,u,o,c,l,d,f,v,h,m,_,b,g;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),e.$v.$error){t.next=57;break}for(e.$v.$reset(),t.prev=3,a=[],s=!0,n=!1,u=void 0,t.prev=8,o=(0,i.default)(e.uiRequests);!(s=(c=o.next()).done);s=!0)l=c.value,a.push(l.snapshotRequest);t.next=16;break;case 12:t.prev=12,t.t0=t.catch(8),n=!0,u=t.t0;case 16:t.prev=16,t.prev=17,!s&&o.return&&o.return();case 19:if(t.prev=19,!n){t.next=22;break}throw u;case 22:return t.finish(19);case 23:return t.finish(16);case 24:return t.next=26,p.saveRequests(a);case 26:for(d=t.sent,f=function(t){e.uiRequests.find(function(e){return e.snapshotRequest.sequence===t.sequence}).snapshotRequest._id=t._id},v=!0,h=!1,m=void 0,t.prev=31,_=(0,i.default)(d.data);!(v=(b=_.next()).done);v=!0)g=b.value,f(g);t.next=39;break;case 35:t.prev=35,t.t1=t.catch(31),h=!0,m=t.t1;case 39:t.prev=39,t.prev=40,!v&&_.return&&_.return();case 42:if(t.prev=42,!h){t.next=45;break}throw m;case 45:return t.finish(42);case 46:return t.finish(39);case 47:window.scrollTo(0,0),e.submitSuccessAlert=!0,setTimeout(function(){e.submitSuccessAlert=!1},4e3),t.next=57;break;case 52:t.prev=52,t.t2=t.catch(3),window.scrollTo(0,0),e.errorAlert.message="So sorry, there's been an error - please contact us or try again later",e.errorAlert.active=!0;case 57:case"end":return t.stop()}},t,e,[[3,52],[8,12,16,24],[17,,19,23],[31,35,39,47],[40,,42,46]])}))()}}}}},[100]);
//# sourceMappingURL=app.44bd69d79240658b3291.js.map